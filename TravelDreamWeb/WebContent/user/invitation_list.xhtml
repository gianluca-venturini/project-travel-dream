<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<ui:composition template="/WEB-INF/template/default.xhtml">
	<ui:define name="content">
		<h:body>

<script>

function showDetail(id,text,btn) {
	
	var list = document.getElementsByClassName("thumbnail");
	var len = list.length;

	while(len--) {
		list[len].style.display = "none";
	}
	document.getElementById(id).style.display = "block";
}

</script>
			<div class="container">
				<center>
					<h1 style="padding-bottom: 30px">Lista inviti</h1>
				</center>
				<div class="row clearfix">
					<div class="col-md-6 column">
						<div class="list-group">
							<a href="#" class="list-group-item active">Pacchetti</a>
							
							<ui:repeat value="#{InvitationList.retrieveList()}" var="item">
							 <a class="list-group-item" href="#" onclick="showDetail('item_#{item.id}','',this); return false;"><span class="badge">Confermato</span>#{item.name}</a>
							 </ui:repeat>
						</div>

					</div>
					<div class="col-md-6 column">



						<div class="col-md-12 hero-feature">
						<ui:repeat value="#{InvitationList.retrieveList()}" var="item">
							<div class="thumbnail" id="item_#{item.id}" style="display:none">
							
							 
								<div class="caption">
									<h4>#{item.name}</h4>
									<p>Partenza:
										#{item.personalizedProducts[0].flight.getCityDeparture().getName()}
										#{item.personalizedProducts[0].flight.getAirportDeparture()}</p>
									<p>Destinazione:
										#{item.personalizedProducts[0].flight.getCityArrival().getName()}
										#{item.personalizedProducts[0].flight.getAirportArrival()}</p>
									<div>
										<table class="table" style="margin-bottom: 45px">

											<tr>
												<th>Volo (andata)</th>
												<td>#{item.personalizedProducts[0].flight.name}</td>
												<td>#{item.personalizedProducts[0].flight.company}</td>
											</tr>
											<tr>
												<th>Volo (ritorno)</th>
												<td>#{item.personalizedProducts[1].flight.name}</td>
												<td>#{item.personalizedProducts[1].flight.company}</td>
											</tr>

											<tr>
												<th>Hotel</th>
												<!--  hotel e escursione hanno indici scambiati 2/3, cosi per ora x vedere quel li ho scambiati pure io -->
												<td>#{item.personalizedProducts[2].excursion.name}</td>
												<td>#{item.personalizedProducts[2].excursion.company}</td>
											</tr>
											<tr>
												<th>Escursione</th>
												<td>#{item.personalizedProducts[3].hotel.name}</td>
												<td>#{item.personalizedProducts[3].hotel.company}</td>
											</tr>
										</table>
									</div>

									<p>


									</p>
								</div>
								
							</div>
							</ui:repeat>
						</div>




					</div>
				</div>

			</div>



		</h:body>

	</ui:define>
</ui:composition>



</html>