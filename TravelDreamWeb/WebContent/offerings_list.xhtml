<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">


<ui:composition template="/WEB-INF/template/default.xhtml">
	<ui:define name="content">
		<h:body>
			<div class="container">

				<div class="row row-offcanvas row-offcanvas-right">
					<div class="col-xs-12 col-sm-3 sidebar-offcanvas" id="sidebar">
						<div class="bs-sidebar hidden-print affix">
							<div class="navbar navbar-default"
								style="padding-left: 20px; padding-right: 20px">
								<center>
									<h3>Ricerca</h3>
								</center>

								<h:form>

									<ul class="list-group">
										<li class="list-group-item">Data di partenza:<br></br> <p:calendar
												value="#{OfferingsList.departureDate}" id="departureCal"
												locale="it" pattern="dd/MM/yyyy">

											</p:calendar>
										</li>
										<li class="list-group-item">Data di ritorno:<br></br> <p:calendar
												id="returnCal" locale="it" pattern="dd/MM/yyyy" />
										</li>
										<li class="list-group-item"><p:inputText
												styleClass="form-control" placeholder="Partenza"
												id="departure" /></li>
										<li class="list-group-item"><p:inputText
												styleClass="form-control" placeholder="Destinazione"
												id="arrival" /></li>
										<li class="list-group-item"><select class="form-control"><option>Persone</option>
												<option>1</option>
												<option>2</option>
												<option>3</option>
												<option>4</option>
												<option>5</option></select></li>

										<li class="list-group-item"><p:commandButton
												value="Cerca" ajax="true"
												action="#{OfferingsList.submitSearch()}" update=":packages"
												styleClass="btn btn-primary btn-lg btn-block"
												id="buttonSearch" />

											<button type="button"
												class="btn btn-default btn-lg btn-block"
												data-toggle="collapse" data-target="#avanzate">Avanzate</button>
										</li>
									</ul>
								</h:form>


								<div id="avanzate" class="collapse out">



									<div class="list-group">
										<a class="list-group-item active">Volo</a> <a
											class="list-group-item"><select class="form-control">
												<option>Classe del volo</option>
												<option>Economica</option>
												<option>Business</option>
										</select> </a>
									</div>
									<div class="list-group">
										<a class="list-group-item active">Hotel</a> <a
											class="list-group-item"><select class="form-control">
												<option>Stelle</option>
												<option>1</option>
												<option>2</option>
												<option>3</option>
												<option>4</option>
												<option>5</option>
										</select> </a> <a class="list-group-item"><select class="form-control">
												<option>Camera</option>
												<option>Classic</option>
												<option>Business</option>
												<option>Deluxe</option>
										</select> </a>


									</div>
								</div>


							</div>


						</div>
					</div>
					<!--/span-->

					<div class="col-xs-12 col-sm-9">

						<div class="row">


							<div class="jumbotron">
								<h2>Catalogo</h2>
								<p>
									Qui ti proponiamo i nostri pacchetti viaggio. Puoi raffinare la
									ricerca tramite le barre presenti sopra e a fianco.<br></br>Selezionando
									uno dei pacchetti puoi anche personalizzarlo.

								</p>


							</div>



							<h:form>

							</h:form>
							<div class="row text-center">


								<h:panelGroup id="packages">
									<ui:repeat value="#{OfferingsList.submitSearch()}"
										var="package">

										<div class="col-lg-4 col-md-6 hero-feature">
											<div class="thumbnail">
												<h:graphicImage library="images" name="image_ny.png" />
												<div class="caption">
													<h4>#{package.getName()}</h4>
													<p>Partenza:
														#{package.personalizedProducts[0].flight.getCityDeparture().getName()} #{package.personalizedProducts[0].flight.getAirportDeparture()}</p>
													<p>Destinazione:
														#{package.personalizedProducts[0].flight.getCityArrival().getName()} #{package.personalizedProducts[0].flight.getAirportArrival()}</p>
													<div id="info_#{package.id}" class="collapse out">
														<table class="table" style="margin-bottom: 45px">
															<caption style="padding-bottom: 5px">Dettagli
																pacchetto #{package.id}</caption>
															<tr>
																<th>Volo (andata)</th>
																<td>#{package.personalizedProducts[0].flight.name}</td>
																<td>#{package.personalizedProducts[0].flight.company}</td>
															</tr>
															<tr>
																<th>Hotel</th>
																<td>#{package.personalizedProducts[2].hotel.name}</td>
																<td>#{package.personalizedProducts[2].hotel.company}</td>
															</tr>
															<tr>
																<th>Escursione</th>
																<td>#{package.personalizedProducts[3].excursion.name}</td>
																<td>#{package.personalizedProducts[3].excursion.company}</td>
															</tr>
														</table>
													</div>

													<p>

														<p:commandButton value="Vai" styleClass="btn btn-primary"
															action="#{OfferingsList.showEditPackage(package)}" />
														<button type="button" class="btn btn-default"
															data-toggle="collapse" data-target="#info_#{package.id}">Info</button>
													</p>
												</div>
											</div>
										</div>

									</ui:repeat>
								</h:panelGroup>


							</div>
							<!-- /.row -->


						</div>
						<!--/span-->

					</div>



				</div>
				<!--/.container-->

			</div>

		</h:body>
	</ui:define>
</ui:composition>



</html>